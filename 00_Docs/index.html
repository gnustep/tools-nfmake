<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<TITLE>NFMake</TITLE>
	<META NAME="GENERATOR" CONTENT="StarOffice/5.1 (Linux)">
	<META NAME="CREATED" CONTENT="20000105;15273400">
	<META NAME="CHANGEDBY" CONTENT="Smart Gateway">
	<META NAME="CHANGED" CONTENT="20000105;16500900">
	
<BODY LEFTMARGIN="0" MARGINWIDTH="0" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#CC0000" VLINK="#333333" ALINK="#FF0000">


	



	<a href="http://www.karl.nfox.com/"><img border=0 alt="NFOX.COM" height=85 width=285 src="logo.gif"></a></center>

	
	
<table border="0" width="100%" cellspacing="0" cellpadding="20">

<tr>

<td width="100%">


</HEAD>
<BODY>
<P><BR><BR>
</P>
<H1>NFMake</H1>
<P>NFMake is a tool for building OpenStep projects on GNUstep. It was
designed to parse a PB.project file directly instead of having to
maintain parallel makefiles. 
</P>
<P>While it is nowhere near complete, it is good enough for us to use
on a daily basis for building frameworks, tools, bundles, and the
sort. It does need more work, and I update it often internally. 
</P>

<H2>Building</H2>
<OL>
	<LI><P>As provided the source build everything into ~/spool If this
	directory doesn't exist, you will probably need to create it as
	root. This is a temporary solution and will be changing in a later
	release. If you have a better choice, you can change the single line
	in PBProject.m that refers to ~/spool.</P>
	<LI><P>Installed frameworks end up in ~/spool/Frameworks/lib. You
	will probably need to set the environment variable <CODE>LD_LIBRARY_PATH</CODE>
	to recognize this location.</P>
	<LI><P>We create a link in /usr/GNUstep/Libraries from <CODE><SPAN STYLE="font-style: normal">machine</SPAN></CODE>
	to <CODE><SPAN STYLE="font-style: normal">ix86/linux-gnu/gnu-gnu-gnu-xgps</SPAN></CODE></P>
	<LI><P>In the nfmake directory execute <CODE>make.sh</CODE>. This is
	a simple shell script to compile all the .m files. The result is an
	executable called nfmake_boot. This is a fully executable copy of
	nfmake. 
	</P>
	<LI><P>To test that nfmake can make itself, type <CODE>nfmake_boot
	install</CODE>.<BR>This will build nfmake and install the executable
	in ~/Unix/bin/ <br><B>KNOWN BUG: ~/Unix/bin/ must exist before you do the install.</B></P>
	<LI><P>Test it out on various projects.</P>
</OL>
<H2>How it works</H2>
<OL>
	<LI><P>nfmake_main.m looks in the current working directory for a
	PB.project file.</P>
	<LI><P>The PBProject class parses the contents of PB.project and
	determines the project type.</P>
	<LI><P>MakeStyle is a generic superclass that know about building
	projects. It has several subclasses, each of which know how to build
	one or more types of projects. For instance, ApplicationStyle know
	how to build applications. It picks the appropriate subclass by
	calling the <CODE>+buildsType:</CODE> method.</P>
	<LI><P>Once an appropriate subclass has been found, the command line
	arguments are passed to <CODE>-makeTarget:</CODE></P>
</OL>
<H2>What works</H2>
<P>Builds tools, applications, frameworks, bundles, subprojects, web
object applications. Frameworks and tools can be &quot;installed&quot;
</P>
<H2>What doesn't work.</H2>
<P>Not all targets are accepted., and invalid targets usually do not
raise an error.</P>
<P>Due to some as of yet undetermined bug in NSTask, a call to sleep
takes place after each call to launch. This is to avoid choking on 
</P>
<P>Nfmake assumes xgps.</P>
<P>The code is very gross. It was quickly put together and is still
being worked on.</P>
<P></tr></td>
</table>
<font size=-1>Send questions or comments to <a href="mailto:karl@nfox.com">Karl Kraft</a></font>
</BODY>
</HTML>
</P>
</BODY>
</HTML>
